<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>.:DingerStats - Mario Baseball Stats:.</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        body {
            font-family: Verdana, Arial, Helvetica, sans-serif;
            font-size: 11px;
            background: #2c3e50 url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAHklEQVQYV2NkYGD4z8DAwMgABXAGjBpEHqAKRg0iDwC8vAP/hMWX3gAAAABJRU5ErkJggg==') repeat;
            color: #000;
        }

        /* 2005-Style Header with Metallic Gradient */
        .header-wrap {
            background: linear-gradient(to bottom, #6a85b6 0%, #3d5a80 50%, #2c3e50 100%);
            border-bottom: 3px solid #ffd700;
            box-shadow: 0 3px 8px rgba(0,0,0,0.5);
        }

        .header {
            max-width: 980px;
            margin: 0 auto;
            padding: 15px 10px;
        }

        .header h1 {
            font-family: "Comic Sans MS", cursive, sans-serif;
            font-size: 28px;
            color: #ffd700;
            text-shadow: 2px 2px 4px #000, -1px -1px 2px rgba(255,255,255,0.3);
            margin-bottom: 5px;
            letter-spacing: 2px;
        }

        .header .subtitle {
            font-size: 10px;
            color: #b8d4ff;
            font-style: italic;
        }

        /* Forum-style Navigation */
        .nav-bar {
            background: linear-gradient(to bottom, #e8e8e8 0%, #d0d0d0 50%, #b8b8b8 100%);
            border-top: 1px solid #fff;
            border-bottom: 2px solid #666;
            box-shadow: inset 0 1px 0 rgba(255,255,255,0.5);
        }

        .nav-container {
            max-width: 980px;
            margin: 0 auto;
            display: flex;
            gap: 3px;
        }

        .nav-tab {
            padding: 8px 15px;
            background: linear-gradient(to bottom, #f5f5f5, #d5d5d5);
            border: 1px solid #999;
            border-bottom: none;
            cursor: pointer;
            font-weight: bold;
            font-size: 11px;
            color: #333;
            text-shadow: 1px 1px 0 rgba(255,255,255,0.8);
            position: relative;
            top: 1px;
        }

        .nav-tab:hover {
            background: linear-gradient(to bottom, #fff, #e5e5e5);
        }

        .nav-tab.active {
            background: #f5f5f5;
            border-bottom: 2px solid #f5f5f5;
            color: #ff6600;
        }

        /* Main Content Area */
        .main-wrap {
            max-width: 980px;
            margin: 15px auto;
            background: #f5f5f5;
            border: 1px solid #999;
            box-shadow: 3px 3px 8px rgba(0,0,0,0.3);
        }

        .content-area {
            padding: 15px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Forum-Style Post Box */
        .stat-box {
            background: #fff;
            border: 2px solid #c0c0c0;
            border-radius: 3px;
            margin-bottom: 12px;
            box-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .box-header {
            background: linear-gradient(to bottom, #4a90e2 0%, #2e5c8a 100%);
            padding: 6px 10px;
            border-bottom: 2px solid #1a3a5a;
            color: #fff;
            font-weight: bold;
            font-size: 12px;
            text-shadow: 1px 1px 2px #000;
        }

        .box-content {
            padding: 10px;
        }

        /* 2005-Style Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            border: 1px solid #999;
            background: #fff;
        }

        thead {
            background: linear-gradient(to bottom, #e0e0e0, #c0c0c0);
            border-bottom: 2px solid #999;
        }

        th {
            padding: 6px 8px;
            text-align: left;
            font-weight: bold;
            font-size: 11px;
            color: #000;
            border-right: 1px solid #aaa;
            text-shadow: 1px 1px 0 rgba(255,255,255,0.7);
        }

        td {
            padding: 6px 8px;
            border-bottom: 1px solid #ddd;
            border-right: 1px solid #eee;
            font-size: 11px;
        }

        tr:nth-child(even) {
            background: #f9f9f9;
        }

        tr:hover {
            background: #ffffcc;
        }

        .rank {
            font-weight: bold;
            color: #ff6600;
            font-size: 13px;
        }

        /* Glossy Buttons (Very 2005) */
        .button, select {
            background: linear-gradient(to bottom, #f5f5f5 0%, #e0e0e0 50%, #d0d0d0 100%);
            border: 1px solid #999;
            border-radius: 4px;
            padding: 5px 12px;
            font-family: Verdana, sans-serif;
            font-size: 11px;
            font-weight: bold;
            color: #333;
            cursor: pointer;
            box-shadow: inset 0 1px 0 rgba(255,255,255,0.6), 0 2px 3px rgba(0,0,0,0.2);
            text-shadow: 0 1px 0 rgba(255,255,255,0.7);
        }

        .button:hover, select:hover {
            background: linear-gradient(to bottom, #fff 0%, #e8e8e8 50%, #d8d8d8 100%);
        }

        .button:active {
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
        }

        /* Stat Badges (Forum Rank Style) */
        .stat-badge {
            display: inline-block;
            background: linear-gradient(to bottom, #4CAF50, #388E3C);
            color: #fff;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 10px;
            font-weight: bold;
            border: 1px solid #2E7D32;
            box-shadow: 0 2px 3px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.3);
            text-shadow: 0 -1px 0 rgba(0,0,0,0.3);
        }

        /* H2H Selector */
        .h2h-picker {
            background: #f0f0f0;
            border: 2px inset #ddd;
            padding: 12px;
            margin-bottom: 12px;
        }

        .h2h-picker label {
            font-weight: bold;
            display: block;
            margin-bottom: 4px;
        }

        .vs-text {
            font-weight: bold;
            color: #ff0000;
            font-size: 16px;
            margin: 0 10px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        /* Stats Grid (Old School) */
        .stats-grid {
            display: table;
            width: 100%;
            border-spacing: 8px;
        }

        .stat-cell {
            display: table-cell;
            background: linear-gradient(to bottom, #667eea, #4a5f99);
            color: #fff;
            padding: 12px;
            border: 2px solid #334477;
            border-radius: 5px;
            text-align: center;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.2);
        }

        .stat-value {
            font-size: 24px;
            font-weight: bold;
            text-shadow: 2px 2px 3px rgba(0,0,0,0.5);
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: 10px;
            opacity: 0.9;
        }

        /* Footer (Classic forum signature style) */
        .footer {
            background: #2c3e50;
            color: #aaa;
            text-align: center;
            padding: 15px;
            font-size: 10px;
            border-top: 3px solid #ffd700;
            margin-top: 20px;
        }

        .footer a {
            color: #ffd700;
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        /* Loading/Error States */
        .loading {
            text-align: center;
            padding: 20px;
            font-style: italic;
            color: #666;
        }

        .error {
            background: #ffe0e0;
            border: 2px solid #ff0000;
            padding: 10px;
            border-radius: 3px;
            color: #cc0000;
            font-weight: bold;
        }

        /* Support Section Styling */
        .donation-box {
            background: linear-gradient(to bottom, #fffacd, #ffeaa7);
            border: 3px double #ffd700;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
        }

        .donation-box h3 {
            color: #ff6600;
            margin-bottom: 8px;
            font-size: 13px;
        }

        .venmo-link {
            display: inline-block;
            background: linear-gradient(to bottom, #3D95CE, #2574A9);
            color: #fff !important;
            padding: 8px 16px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
            font-size: 12px;
            border: 2px solid #1A5276;
            box-shadow: 0 3px 5px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.3);
            text-shadow: 0 -1px 0 rgba(0,0,0,0.3);
            margin-top: 8px;
        }

        .venmo-link:hover {
            background: linear-gradient(to bottom, #4AA5DE, #2E84B9);
        }

        input[type="number"] {
            border: 2px inset #ddd;
            padding: 4px;
            font-family: Verdana, sans-serif;
            font-size: 11px;
            width: 80px;
        }
    </style>
</head>
<body>
    <div class="header-wrap">
        <div class="header">
            <h1>.:. DingerStats .

:.</h1>
            <div class="subtitle">Mario Super Sluggers - Player Statistics Database - Est. 2025</div>
            <div style="margin-top: 10px;">
                <a href="classic-10.html" style="
                    display: inline-block;
                    padding: 6px 12px;
                    background: linear-gradient(to bottom, #ffd700, #ffb700);
                    color: #000;
                    text-decoration: none;
                    border: 2px solid #cc9900;
                    border-radius: 3px;
                    font-weight: bold;
                    font-size: 11px;
                    box-shadow: 0 2px 4px rgba(0,0,0,0.3);
                    text-shadow: 0 1px 0 rgba(255,255,255,0.5);
                ">
                    üèÜ Classic 10 Tournament Page
                </a>
            </div>
        </div>
    </div>

    <div class="nav-bar">
        <div class="nav-container">
            <div class="nav-tab active" onclick="switchTab('standings')">Standings</div>
            <div class="nav-tab" onclick="switchTab('h2h')">Head-to-Head</div>
            <div class="nav-tab" onclick="switchTab('recent')">Recent Games</div>
            <div class="nav-tab" onclick="switchTab('support')">Support Us</div>
        </div>
    </div>

    <div class="main-wrap">
        <div class="content-area">

            <!-- Standings Tab -->
            <div id="standings-tab" class="tab-content active">
                <div class="stat-box">
                    <div class="box-header">¬ª Player Standings</div>
                    <div class="box-content">
                        <div style="margin-bottom: 10px;">
                            <label style="font-weight: bold; margin-right: 8px;">Filter by Game Type:</label>
                            <select id="game-type-filter" onchange="loadStandings()">
                                <option value="">All Games</option>
                            </select>
                        </div>
                        <div id="standings-content">
                            <div class="loading">Loading standings...</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Head-to-Head Tab -->
            <div id="h2h-tab" class="tab-content">
                <div class="stat-box">
                    <div class="box-header">¬ª Head-to-Head Battle</div>
                    <div class="box-content">
                        <div class="h2h-picker">
                            <label>Select Players:</label>
                            <div style="display: flex; align-items: center; margin-top: 8px;">
                                <select id="player1-select" style="flex: 1;">
                                    <option value="">Choose Player 1</option>
                                </select>
                                <span class="vs-text">VS</span>
                                <select id="player2-select" style="flex: 1;">
                                    <option value="">Choose Player 2</option>
                                </select>
                            </div>
                        </div>
                        <div id="h2h-content">
                            <div class="loading">Select two players to view their matchup history</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Games Tab -->
            <div id="recent-tab" class="tab-content">
                <div class="stat-box">
                    <div class="box-header">¬ª Recent Match Results</div>
                    <div class="box-content">
                        <div id="recent-content">
                            <div class="loading">Loading recent games...</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Support Tab -->
            <div id="support-tab" class="tab-content">
                <div class="stat-box">
                    <div class="box-header">¬ª About This Site</div>
                    <div class="box-content">
                        <p style="line-height: 1.6; margin-bottom: 12px;">
                            <b>Welcome to DingerStats!</b> This site tracks Mario Super Sluggers game statistics from
                            <a href="https://www.youtube.com/@DingerCity" target="_blank" style="color: #0066cc;">Dinger City</a>'s YouTube channel.
                            Using AI analysis, we extract player stats automatically from every video.
                        </p>
                        <p style="line-height: 1.6; color: #666; font-size: 10px;">
                            Created by Joey - A hobby developer bringing old-school web vibes to modern stats tracking.
                        </p>
                    </div>
                </div>

                <div class="stat-box">
                    <div class="box-header">¬ª Processing Progress</div>
                    <div class="box-content">
                        <div id="processing-stats">
                            <div class="loading">Loading processing stats...</div>
                        </div>
                    </div>
                </div>

                <div class="donation-box">
                    <h3>‚ö° Help Speed Up Video Processing! ‚ö°</h3>
                    <p style="font-size: 11px; line-height: 1.5; margin-bottom: 10px;">
                        Currently processing <b><span id="remaining-videos">1,118</span> videos</b> on free tier (50/day).
                        Donations go 100% toward API costs to process faster!
                    </p>
                    <div style="margin: 10px 0;">
                        <label style="font-weight: bold; font-size: 11px;">Calculate Your Impact:</label><br>
                        <input type="number" id="donation-amount" value="5" min="1" oninput="calculateImpact()" style="margin-top: 4px;">
                        <span style="font-weight: bold; margin-left: 8px;" id="impact-display">$5 = 1,666 videos = 33 days saved!</span>
                    </div>
                    <a href="https://venmo.com/Joey-Musselman" target="_blank" class="venmo-link">
                        üí∞ Donate via Venmo @Joey-Musselman
                    </a>
                </div>
            </div>

        </div>
    </div>

    <div class="footer">
        <b>DingerStats</b> - Tracking Mario Baseball excellence since 2025<br>
        Powered by AI Analysis | <a href="https://github.com/musselmanjoey/DingerStats" target="_blank">View on GitHub</a>
    </div>

    <script>
        // Static data will be injected here during build
        /* DATA_PLACEHOLDER */

        // Tab switching
        function switchTab(tabName) {
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));

            event.target.classList.add('active');
            document.getElementById(`${tabName}-tab`).classList.add('active');

            // Load data for tab
            if (tabName === 'standings') loadStandings();
            if (tabName === 'recent') loadRecentGames();
            if (tabName === 'support') loadProcessingStats();
        }

        // Load standings
        function loadStandings() {
            const gameType = document.getElementById('game-type-filter').value;
            let standings = STATS_DATA.standings;

            // Filter by game type if selected
            if (gameType) {
                standings = STATS_DATA.standings;
            }

            const html = `
                <table cellspacing="0" cellpadding="0">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Player</th>
                            <th>Wins</th>
                            <th>Losses</th>
                            <th>Win %</th>
                            <th>Games</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${standings.map((player, index) => `
                            <tr>
                                <td class="rank">#${index + 1}</td>
                                <td><b>${player.player}</b></td>
                                <td>${player.wins}</td>
                                <td>${player.losses}</td>
                                <td><span class="stat-badge">${player.win_pct.toFixed(3)}</span></td>
                                <td>${player.games}</td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            `;

            document.getElementById('standings-content').innerHTML = html;
        }

        // Load players for dropdowns
        function loadPlayers() {
            const options = STATS_DATA.players.map(p => `<option value="${p}">${p}</option>`).join('');

            document.getElementById('player1-select').innerHTML = '<option value="">Choose Player 1</option>' + options;
            document.getElementById('player2-select').innerHTML = '<option value="">Choose Player 2</option>' + options;
        }

        // Load game types for filter
        function loadGameTypes() {
            const options = STATS_DATA.game_types.map(t => `<option value="${t}">${t}</option>`).join('');
            document.getElementById('game-type-filter').innerHTML = '<option value="">All Games</option>' + options;
        }

        // Load head-to-head
        function loadHeadToHead() {
            const player1 = document.getElementById('player1-select').value;
            const player2 = document.getElementById('player2-select').value;

            if (!player1 || !player2) {
                document.getElementById('h2h-content').innerHTML = '<div class="loading">Select two players to view their matchup history</div>';
                return;
            }

            // Filter games between these two players
            const games = STATS_DATA.recent_games.filter(game =>
                (game.player_a === player1 && game.player_b === player2) ||
                (game.player_a === player2 && game.player_b === player1)
            );

            const player1Wins = games.filter(g => g.winner === player1).length;
            const player2Wins = games.filter(g => g.winner === player2).length;

            const html = `
                <div class="stats-grid">
                    <div class="stat-cell">
                        <div class="stat-value">${player1Wins}</div>
                        <div class="stat-label">${player1} Wins</div>
                    </div>
                    <div class="stat-cell">
                        <div class="stat-value">${player2Wins}</div>
                        <div class="stat-label">${player2} Wins</div>
                    </div>
                    <div class="stat-cell">
                        <div class="stat-value">${games.length}</div>
                        <div class="stat-label">Total Games</div>
                    </div>
                </div>

                ${games.length > 0 ? `
                    <table cellspacing="0" cellpadding="0" style="margin-top: 12px;">
                        <thead>
                            <tr>
                                <th>Game Type</th>
                                <th>Matchup</th>
                                <th>Score</th>
                                <th>Winner</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${games.map(game => `
                                <tr>
                                    <td>${game.game_type || 'N/A'}</td>
                                    <td>${game.player_a} vs ${game.player_b}</td>
                                    <td><b>${game.score_a}-${game.score_b}</b></td>
                                    <td><b>${game.winner}</b></td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                ` : '<div class="loading">No games found between these players</div>'}
            `;

            document.getElementById('h2h-content').innerHTML = html;
        }

        // Load recent games
        function loadRecentGames() {
            const recentGames = STATS_DATA.recent_games.slice(0, 20);

            const html = `
                <table cellspacing="0" cellpadding="0">
                    <thead>
                        <tr>
                            <th>Game Type</th>
                            <th>Matchup</th>
                            <th>Score</th>
                            <th>Winner</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${recentGames.map(game => `
                            <tr>
                                <td>${game.game_type || 'Regular'}</td>
                                <td>${game.player_a} vs ${game.player_b}</td>
                                <td><b>${game.score_a}-${game.score_b}</b></td>
                                <td><b style="color: #ff6600;">${game.winner}</b></td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            `;

            document.getElementById('recent-content').innerHTML = html;
        }

        // Event listeners
        document.getElementById('player1-select').addEventListener('change', loadHeadToHead);
        document.getElementById('player2-select').addEventListener('change', loadHeadToHead);

        // Load processing stats
        function loadProcessingStats() {
            const data = STATS_DATA.processing_stats;

            document.getElementById('remaining-videos').textContent = data.remaining;

            const html = `
                <table cellspacing="0" cellpadding="0">
                    <tr>
                        <td style="background: #f0f0f0; padding: 10px;"><b>Videos Processed:</b></td>
                        <td style="padding: 10px;"><b style="color: #ff6600;">${data.processed}/${data.total_videos}</b> (${data.progress_pct}% complete)</td>
                    </tr>
                    <tr>
                        <td style="background: #f0f0f0; padding: 10px;"><b>Remaining:</b></td>
                        <td style="padding: 10px;">${data.remaining} videos</td>
                    </tr>
                    <tr>
                        <td style="background: #f0f0f0; padding: 10px;"><b>Free Tier ETA:</b></td>
                        <td style="padding: 10px;">${data.free_tier.completion_date} (~${data.free_tier.days_remaining} days)</td>
                    </tr>
                    <tr>
                        <td style="background: #f0f0f0; padding: 10px;"><b>With API Funding:</b></td>
                        <td style="padding: 10px;">${data.paid_tier.days_to_complete} days (~$${data.paid_tier.cost_estimate})</td>
                    </tr>
                </table>
            `;

            document.getElementById('processing-stats').innerHTML = html;
        }

        // Calculate donation impact
        function calculateImpact() {
            const amount = parseFloat(document.getElementById('donation-amount').value) || 0;

            const videosPerDollar = 333;
            const videosFunded = Math.floor(amount * videosPerDollar);
            const remaining = STATS_DATA.processing_stats.remaining;
            const daysSaved = Math.min(videosFunded / 50, remaining / 50).toFixed(1);

            document.getElementById('impact-display').innerHTML = `
                $${amount} = ${videosFunded.toLocaleString()} videos = ${daysSaved} days saved!
            `;
        }

        // Initialize
        loadStandings();
        loadPlayers();
        loadGameTypes();
    </script>
</body>
</html>
